{"mappings":"SACSA,iBACLC,EAAE,gBAAgBC,YAAY,gBAEVC,SAASC,KAAKC,cAClBC,OAAOC,aAIuBN,EAAxC,gBAAgBO,SAAS,gBATnCR,iBAYAC,EAAEK,QAAQG,OAAOT,gBAEjB,MAAMU,KAAOC,aAAaC,QAAQ,QAC5BC,QAAUC,KAAKC,MAAML,MACrBM,QAAUH,SAAW,CACvB,CAAEI,KAAM,IAAKC,IAAK,0BAClB,CAAED,KAAM,IAAKC,IAAK,wBAClB,CAAED,KAAM,IAAKC,IAAK,+BAEhBC,YAAeD,GACVA,EACFE,QAAQ,WAAY,IACpBA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAO,OAAS,IAGnBC,OAAM,KACRpB,EAAE,WAAWqB,KAAK,sBAAsBC,SACxCP,QAAQQ,SAAO,CAAEC,EAAMC,KACnB,MAAMC,EAAM1B,EAAC,wDAgBWwB,EAAIP,8GAEDO,EAAAR,+EAELE,YAAUM,EAASP,qQAUjDU,aAAmB3B,EAAA,eACJD,iBACR2B,EAAAE,GAAA,QAAA,UAAAC,IAEOA,EAAAC,kBACEf,QAAAgB,OAAUN,EAAA,GACZL,SAKNf,OAAA2B,SAAAH,EAAAI,MAAAJ,EAAAK,QAAAL,EAAAM,MAAAN,EAAAO,SACS,MAAAC,EAAExB,KAA2ByB,UAAAvB,SAC5BL,aAAO6B,QAAA,OAAAF,mBAyChBG,OAGLtC,SAAOC,KAAYsC,MAAAC,SAAkB,SAGxCxC,SAAAyC,iBAAA,aALW,SAAOd,OAKlB,+HAzCKe,OAAW,sBACN,KACV5C,EAAA,WAAA6C,KAAAC,QAAAC,OAAA,gCAEW,qBACInB,GAAY,SAAA,WAIxB5B,EAAA,UAAYgD,OAAE3C,OAAAC,YAAAJ,SAAAC,KAAAC,cAAA,EAAAC,OAAAC,YAAAJ,SAAAC,KAAAC,oCAEFH,YAAA,iBACZD,EAAC,cAAAiD,wBAEKrB,GAAM,SAAQ,WACpBsB,OACAlD,EAAE,cAAWmD,IAAK,IACrBnD,EAAA,aAAAO,SAAA,wBACQ6C,OAAQ,EAAAlD,SAAAC,KAAAC,+BAGZwB,GAAA,SAAA,WACD,IAAAX,EAASjB,EAAA,cAAWmD,MACiB,IAArClC,EAAQoC,QAAC,UAA4BpC,EAAA,WAAcA,GACtDF,QAAAuC,KAAA,CACOtC,KAAAE,YAAYD,GAAA,GAAAsC,kBACPtC,IAGTG,SACA,MAAAiB,EAAcxB,KAAMyB,UAAQvB,SAClBL,aAAD6B,QAAA,OAAoBF,GAChCrC,EAAA,WAAAwD","sources":["src/main.js"],"sourcesContent":["footerPosition();\nfunction footerPosition() {\n    $(\".globefooter\").removeClass(\"fixed-bottom\");\n\n    let contentHeight = document.body.scrollHeight, //网页正文全文高度\n        winHeight = window.innerHeight; //可视窗口高度，不包括浏览器顶部工具栏\n\n    if (contentHeight <= winHeight) {\n        //当网页正文高度小于可视窗口高度时，为footer添加类fixed-bottom\n        $(\".globefooter\").addClass(\"fixed-bottom\");\n    }\n}\n$(window).resize(footerPosition);\n\nconst data = localStorage.getItem(\"data\");\nconst xObject = JSON.parse(data);\nconst hashMap = xObject || [\n    { logo: \"V\", url: \"https://www.vuejs.org/\" },\n    { logo: \"W\", url: \"https://wangdoc.com/\" },\n    { logo: \"J\", url: \"https://www.jquery123.com/\" },\n];\nconst simplifyUrl = (url) => {\n    return url\n        .replace(\"https://\", \"\")\n        .replace(\"http://\", \"\")\n        .replace(\"www.\", \"\")\n        .replace(/\\/.*/, \"\"); // 删除 / 开头的内容\n};\n\nconst render = () => {\n    $(\".webclt\").find(\"li:not(#addwebclt)\").remove();\n    hashMap.forEach((node, index) => {\n        const $li = $(`\n                <li>\n                    <a href=\"${node.url}\">\n                        <svg class=\"icon\">\n                            <use xlink:href=\"#icon-16gl-${node.logo}\"></use>\n                        </svg>\n                        <span>${simplifyUrl(node.url)}</span>\n                    </a>\n                    <div class=\"close\">\n                <svg class=\"iconclose\">\n                <use xlink:href=\"#icon-16gl-cross\"></use>\n                </svg>\n                </div>\n                </li>\n      `).insertBefore($(\"#addwebclt\"));\n        footerPosition();\n        $li.on(\"click\", \".close\", (e) => {\n            e.stopPropagation(); // 阻止冒泡\n            hashMap.splice(index, 1);\n            render();\n            window.scrollTo(e.pageX + e.clientX, e.pageY + e.clientY);\n            const string = JSON.stringify(hashMap);\n            localStorage.setItem(\"data\", string);\n        });\n    });\n};\n\nrender();\n\ndayjs.locale(\"zh-cn\");\nsetInterval(() => {\n    $(\"#rlTime\").text(dayjs().format(\"YYYY年MM月DD日HH时mm分ss秒 dddd\"));\n}, 1000);\n\n$(\"#addwebclt\").on(\"click\", function () {\n    //计算cover的高度\n    $(\".cover\").height(\n        window.innerHeight - document.body.scrollHeight >= 0\n            ? window.innerHeight\n            : document.body.scrollHeight\n    );\n    stop();\n    $(\"#addmodal\").removeClass(\"modaldisabled\");\n    $(\"#addweburl\").focus();\n});\n\n$(\"#cancel\").on(\"click\", function () {\n    move();\n    $(\"#addweburl\").val(\"\");\n    $(\"#addmodal\").addClass(\"modaldisabled\");\n    window.scroll(0, document.body.scrollHeight);\n});\n\n$(\"#confirm\").on(\"click\", function () {\n    let url = $(\"#addweburl\").val();\n    if (url.indexOf(\"http\") !== 0) {\n        url = \"https://\" + url;\n    }\n    hashMap.push({\n        logo: simplifyUrl(url)[0].toUpperCase(),\n        url: url,\n    });\n    render();\n    const string = JSON.stringify(hashMap);\n    localStorage.setItem(\"data\", string);\n    $(\"#cancel\").click();\n});\nfunction stop() {\n    let mo = function (e) {\n        passive: false;\n    };\n    document.body.style.overflow = \"hidden\";\n    document.addEventListener(\"touchmove\", mo, false); //禁止页面滑动\n}\n//取消滚动限制\nfunction move() {\n    let mo = function (e) {\n        passive: false;\n    };\n    document.body.style.overflow = \"\"; //出现滚动条\n    document.removeEventListener(\"touchmove\", mo, false);\n}\n\n$(document).on(\"keypress\", (e) => {\n    const { key } = e;\n    console.log(key);\n    //实现添加时回车即确认功能\n    if (key === \"Enter\" && !$(\"#addmodal\").hasClass(\"modaldisabled\")) {\n        $(\"#confirm\").click();\n    }\n});\n"],"names":["footerPosition","$","removeClass","document","body","scrollHeight","window","innerHeight","addClass","resize","data","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","find","remove","forEach","node","index","$li","insertBefore","on","e","stopPropagation","splice","scrollTo","pageX","clientX","pageY","clientY","string","stringify","setItem","stop","style","overflow","addEventListener","locale","text","dayjs","format","height","focus","move","val","scroll","indexOf","push","toUpperCase","click"],"version":3,"file":"index.35dbf934.js.map"}
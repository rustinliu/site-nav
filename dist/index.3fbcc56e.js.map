{"mappings":"AAAA,MAAMA,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAW,CACvB,CAAEI,KAAM,IAAKC,IAAK,0BAClB,CAAED,KAAM,IAAKC,IAAK,kCAEhBC,YAAeD,GACVA,EACFE,QAAQ,WAAY,IACpBA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAO,OAAS,IAGnBC,OAAM,KACRC,EAAE,WAAWC,KAAK,sBAAsBC,SACxCC,QAAQC,IAAI,GACZV,QAAQW,SAAO,CAAEC,EAAMC,KACPP,EAAC,wDAgBQM,EAAmBV,8GAE9BU,EAAAX,+EAEcE,YAAUS,EAAOV,qQAUlCY,aAAOR,EAAA,eACfS,GAAA,QAAA,UAAAC,IAEEA,EAAAC,kBACWjB,QAAAkB,OAAEL,EAAY,GAE1BR,SAGAc,iBAEgB,MAAAC,EAAEtB,KAAuBuB,UAAArB,SAEhDL,aAAA2B,QAAA,IAAAF,mBAWOD,iBACJb,EAAE,gBAAciB,YAAM,gBACPC,SAAwBC,KAAAC,cAAAC,OAAAC,YAC1C,IAEWtB,EAAA,gBAAYuB,SAAE,yBA+BjBC,OAGLN,SAAOC,KAAYM,MAAAC,SAAkB,SAGxCR,SAAAS,iBAAA,aALW,SAAOjB,OAKlB,+HA/CGkB,OAAI,sBACS,KAChB5B,EAAA,WAAA6B,KAAAC,QAAAC,OAAA,gCAEU,gCAWPC,OAAanB,gCACHJ,GAAA,SAAY,kBACfwB,OAAK,EAAA,GACZT,OACAxB,EAAA,aAAMiB,YAAA,iCAEAR,GAAM,SAAQ,WACpByB,OACAlC,EAAE,cAAWmC,IAAK,IACrBnC,EAAA,aAAAuB,SAAA,kCAEYd,GAAA,SAAc,WAEvB,IAACb,EAAAI,EAAA,cAAAmC,MAC2B,IAA5BvC,EAAQwC,QAAM,UAAiBxC,EAAQ,WAAAA,GACvCF,QAAQ2C,KAAC,CACZ1C,KAAAE,YAAAD,GAAA,GAAA0C,cACO1C,IAAAA,IAEJG,SAEAc,iBACA,MAAAC,EAActB,KAAMuB,UAAQrB,SAClBL,aAAD2B,QAAA,IAAAF,GACZd,EAAA,WAAAuC","sources":["src/main.js"],"sourcesContent":["const x = localStorage.getItem(\"x\");\nconst xObject = JSON.parse(x);\nconst hashMap = xObject || [\n    { logo: \"V\", url: \"https://www.vuejs.org/\" },\n    { logo: \"D\", url: \"https://developer.mozilla.org\" },\n];\nconst simplifyUrl = (url) => {\n    return url\n        .replace(\"https://\", \"\")\n        .replace(\"http://\", \"\")\n        .replace(\"www.\", \"\")\n        .replace(/\\/.*/, \"\"); // 删除 / 开头的内容\n};\n\nconst render = () => {\n    $(\".webclt\").find(\"li:not(#addwebclt)\").remove();\n    console.log(1);\n    hashMap.forEach((node, index) => {\n        const $li = $(`\n                <li>\n                    <a href=\"${node.url}\">\n                        <svg class=\"icon\">\n                            <use xlink:href=\"#icon-16gl-${node.logo}\"></use>\n                        </svg>\n                        <span>${simplifyUrl(node.url)}</span>\n                    </a>\n                    <div class=\"close\">\n                <svg class=\"iconclose\">\n                <use xlink:href=\"#icon-16gl-cross\"></use>\n                </svg>\n                </div>\n                </li>\n      `).insertBefore($(\"#addwebclt\"));\n        $li.on(\"click\", \".close\", (e) => {\n            e.stopPropagation(); // 阻止冒泡\n            hashMap.splice(index, 1);\n            render();\n            footerPosition();\n            const string = JSON.stringify(hashMap);\n            localStorage.setItem(\"x\", string);\n        });\n    });\n};\n\nrender();\n\ndayjs.locale(\"zh-cn\");\nsetInterval(() => {\n    $(\"#rlTime\").text(dayjs().format(\"YYYY年MM月DD日HH时mm分ss秒 dddd\"));\n}, 1000);\n\nfunction footerPosition() {\n    $(\".globefooter\").removeClass(\"fixed-bottom\");\n\n    let contentHeight = document.body.scrollHeight, //网页正文全文高度\n        winHeight = window.innerHeight; //可视窗口高度，不包括浏览器顶部工具栏\n\n    if (contentHeight <= winHeight - 46) {\n        //当网页正文高度小于可视窗口高度时，为footer添加类fixed-bottom\n        $(\".globefooter\").addClass(\"fixed-bottom\");\n    }\n}\nfooterPosition();\n$(window).resize(footerPosition);\n\n$(\"#addwebclt\").on(\"click\", function () {\n    window.scroll(0, 0);\n    stop();\n    $(\"#addmodal\").removeClass(\"modaldisabled\");\n});\n\n$(\"#cancel\").on(\"click\", function () {\n    move();\n    $(\"#addweburl\").val(\"\");\n    $(\"#addmodal\").addClass(\"modaldisabled\");\n});\n\n$(\"#confirm\").on(\"click\", function () {\n    let url = $(\"#addweburl\").val();\n    if (url.indexOf(\"http\") !== 0) {\n        url = \"https://\" + url;\n    }\n    hashMap.push({\n        logo: simplifyUrl(url)[0].toUpperCase(),\n        url: url,\n    });\n    render();\n    footerPosition();\n    const string = JSON.stringify(hashMap);\n    localStorage.setItem(\"x\", string);\n    $(\"#cancel\").click();\n});\nfunction stop() {\n    let mo = function (e) {\n        passive: false;\n    };\n    document.body.style.overflow = \"hidden\";\n    document.addEventListener(\"touchmove\", mo, false); //禁止页面滑动\n}\n//取消滚动限制\nfunction move() {\n    let mo = function (e) {\n        passive: false;\n    };\n    document.body.style.overflow = \"\"; //出现滚动条\n    document.removeEventListener(\"touchmove\", mo, false);\n}\n$(document).on(\"keypress\", (e) => {\n    const { key } = e;\n    console.log(key);\n    //实现添加时回车即确认功能\n    if (key === \"Enter\" && !$(\"#addmodal\").hasClass(\"modaldisabled\")) {\n        $(\"#confirm\").click();\n    }\n});\n"],"names":["x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","$","find","remove","console","log","forEach","node","index","insertBefore","on","e","stopPropagation","splice","footerPosition","string","stringify","setItem","removeClass","document","body","scrollHeight","window","innerHeight","addClass","stop","style","overflow","addEventListener","locale","text","dayjs","format","resize","scroll","move","val","indexOf","push","toUpperCase","click"],"version":3,"file":"index.3fbcc56e.js.map"}